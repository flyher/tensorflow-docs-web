<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <title>Writing TensorFlow Documentation</title>
    <link href="//xitu.github.io/tensorflow-docs-web/assets/css/bootstrap.min.css" rel="stylesheet">
    <link href="//xitu.github.io/tensorflow-docs-web/assets/css/main.css" rel="stylesheet">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
</head>
<body>
<!-- Header start -->
<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="#">TensorFlow</a>
    <button class="navbar-toggler" type="button" aria-expanded="false" aria-label="Menu"
            onclick="$('.collapse').toggle()">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse">
        <ul class="navbar-nav mr-auto">
        </ul>
        <!-- TODO: Search function-->
        <!--<form class="form-inline my-2 my-lg-0">-->
            <!--<input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">-->
            <!--<button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>-->
        <!--</form>-->
    </div>
</nav>
<script>
    var head = [{'link': '//xitu.github.io/tensorflow-docs-web/extend/index.html', 'name': '扩展', 'selected': 0}, {'link': '//xitu.github.io/tensorflow-docs-web/install/index.html', 'name': '安装 TensorFlow', 'selected': 0}, {'link': '//xitu.github.io/tensorflow-docs-web/deploy/index.html', 'name': '部署', 'selected': 0}, {'link': '//xitu.github.io/tensorflow-docs-web/about/index.html', 'name': 'About TensorFlow', 'selected': 0}, {'link': '//xitu.github.io/tensorflow-docs-web/get_started/index.html', 'name': '开始', 'selected': 0}, {'link': '//xitu.github.io/tensorflow-docs-web/mobile/index.html', 'name': 'Overview', 'selected': 0}, {'link': '//xitu.github.io/tensorflow-docs-web/tutorials/index.html', 'name': '教程', 'selected': 0}, {'link': '//xitu.github.io/tensorflow-docs-web/performance/index.html', 'name': '性能', 'selected': 0}, {'link': '//xitu.github.io/tensorflow-docs-web/community/index.html', 'name': 'Community', 'selected': 1}, {'link': '//xitu.github.io/tensorflow-docs-web/programmers_guide/index.html', 'name': '开发者指南', 'selected': 0}]
</script>
<!-- Header end -->

<!-- Content start-->
<div class="container-fluid">
    <div class="row">
        <nav class="col-md-2 d-none d-md-block bg-light sidebar">
    <div class="sidebar-sticky" id="left-nav">

    </div>
</nav>
<script>
    var nav = [{'type': 'child', 'link': '//xitu.github.io/tensorflow-docs-web/community/index.html', 'title': 'Community'}, {'type': 'child', 'link': '//xitu.github.io/tensorflow-docs-web/community/welcome.html', 'title': 'Welcome to the TensorFlow Community'}, {'type': 'child', 'link': '//xitu.github.io/tensorflow-docs-web/community/roadmap.html', 'title': 'Roadmap'}, {'type': 'child', 'link': '//xitu.github.io/tensorflow-docs-web/community/documentation.html', 'title': 'Writing TensorFlow Documentation'}, {'type': 'child', 'link': '//xitu.github.io/tensorflow-docs-web/community/style_guide.html', 'title': 'TensorFlow Style Guide'}, {'type': 'child', 'link': '//xitu.github.io/tensorflow-docs-web/community/benchmarks.html', 'title': 'Defining and Running Benchmarks'}]
</script>
        <main role="main" class="col-md-9 ml-sm-auto col-lg-10 pt-3 px-4">
            <h1>Writing TensorFlow Documentation</h1>
<p>We welcome contributions to the TensorFlow documentation from the community.<br>
This document explains how you can contribute to that documentation. In<br>
particular, this document explains the following:</p>
<ul>
<li>Where the documentation is located.</li>
<li>How to make conformant edits.</li>
<li>How to build and test your documentation changes before you submit them.</li>
</ul>
<p>You can view TensorFlow documentation on <a href="https://www.tensorflow.org">https://www.tensorflow.org</a>, and you<br>
can view and edit the raw files on<br>
<a href="https://www.tensorflow.org/code/tensorflow/docs_src/">GitHub</a>.<br>
We're publishing our docs on GitHub so everybody can contribute. Whatever gets<br>
checked in to <code>tensorflow/docs_src</code> will be published soon after on<br>
<a href="https://www.tensorflow.org">https://www.tensorflow.org</a>.</p>
<p>Republishing TensorFlow documentation in different forms is absolutely allowed,<br>
but we are unlikely to accept other documentation formats (or the tooling to<br>
generate them) into our repository. If you do choose to republish our<br>
documentation in another form, please be sure to include:</p>
<ul>
<li>The version of the API this represents (for example, r1.0, master, etc.)</li>
<li>The commit or version from which the documentation was generated</li>
<li>Where to get the latest documentation (that is, <a href="https://www.tensorflow.org">https://www.tensorflow.org</a>)</li>
<li>The Apache 2.0 license.</li>
</ul>
<h2>A note on versions</h2>
<p>tensorflow.org, at root, shows documentation for the latest stable binary.  This<br>
is the documentation you should be reading if you are using <code>pip</code> to install<br>
TensorFlow.</p>
<p>However, most developers will contribute documentation into the master GitHub<br>
branch, which is published, occasionally,<br>
at <a href="https://www.tensorflow.org/versions/master">tensorflow.org/versions/master</a>.</p>
<p>If you want documentation changes to appear at root, you will need to also<br>
contribute that change to the current stable binary branch (and/or<br>
<a href="https://stackoverflow.com/questions/9339429/what-does-cherry-picking-a-commit-with-git-mean">cherrypick</a>).</p>
<h2>Reference vs. non-reference documentation</h2>
<p>The following reference documentation is automatically generated from comments<br>
in the code:</p>
<ul>
<li>C++ API reference docs</li>
<li>Java API reference docs</li>
<li>Python API reference docs</li>
</ul>
<p>To modify the reference documentation, you edit the appropriate code comments.</p>
<p>Non-reference documentation (for example, the TensorFlow installation guides) is<br>
authored by humans. This documentation is located in the<br>
<a href="https://www.tensorflow.org/code/tensorflow/docs_src/"><code>tensorflow/docs_src</code></a><br>
directory.  Each subdirectory of <code>docs_src</code> contains a set of related TensorFlow<br>
documentation. For example, the TensorFlow installation guides are all in the<br>
<code>docs_src/install</code> directory.</p>
<p>The C++ documentation is generated from XML files generated via doxygen;<br>
however, those tools are not available in open source at this time.</p>
<h2>Markdown</h2>
<p>Editable TensorFlow documentation is written in Markdown. With a few exceptions,<br>
TensorFlow uses<br>
the <a href="https://daringfireball.net/projects/markdown/">standard Markdown rules</a>.</p>
<p>This section explains the primary differences between standard Markdown rules<br>
and the Markdown rules that editable TensorFlow documentation uses.</p>
<h3>Math in Markdown</h3>
<p>You may use MathJax within TensorFlow when editing Markdown files, but note the<br>
following:</p>
<ul>
<li>MathJax renders properly on <a href="https://www.tensorflow.org">tensorflow.org</a></li>
<li>MathJax does not render properly on <a href="https://github.com/tensorflow/tensorflow">github</a>.</li>
</ul>
<p>When writing MathJax, you can use <code>&#36;&#36;</code> and <code>\\(</code> and <code>\\)</code> to<br>
surround your math.  <code>&#36;&#36;</code> guards will cause line breaks, so<br>
within text, use <code>\\(</code> <code>\\)</code> instead.</p>
<h3>Links in Markdown</h3>
<p>Links fall into a few categories:</p>
<ul>
<li>Links to a different part of the same file</li>
<li>Links to a URL outside of tensorflow.org</li>
<li>Links from a Markdown file (or code comments) to another file within tensorflow.org</li>
</ul>
<p>For the first two link categories, you may use standard Markdown links, but put<br>
the link entirely on one line, rather than splitting it across lines. For<br>
example:</p>
<ul>
<li><code>[text](link)    # Good link</code></li>
<li><code>[text]\n(link)  # Bad link</code></li>
<li><code>[text](\nlink)  # Bad link</code></li>
</ul>
<p>For the final link category (links to another file within tensorflow.org),<br>
please use a special link parameterization mechanism. This mechanism enables<br>
authors to move and reorganize files without breaking links.</p>
<p>The parameterization scheme is as follows.  Use:</p>
<p><!-- Note: the use of &#64; is a hack so we don't translate these as symbols --></p>
<ul>
<li><p><code>&#64;{tf.symbol}</code> to make a link to the reference page for a<br>
Python symbol.  Note that class members don't get their own page, but the<br>
syntax still works, since <code>&#64;{tf.MyClass.method}</code> links to the<br>
proper part of the tf.MyClass page.</p>
</li>
<li><p><code>&#64;{tensorflow::symbol}</code> to make a link to the reference page<br>
for a C++ symbol.</p>
</li>
<li><p><code>&#64;{$doc_page}</code> to make a link to another (not an API reference)<br>
  doc page. To link to</p>
<ul>
<li><p><code>red/green/blue/index.md</code> use <code>&#64;{$blue}</code> or<br>
<code>&#64;{$green/blue}</code>,</p>
</li>
<li><p><code>foo/bar/baz.md</code> use <code>&#64;{$baz}</code> or<br>
<code>&#64;{$bar/baz}</code>.</p>
<p>The shorter one is preferred, so we can move pages around without breaking<br>
these references. The main exception is that the Python API guides should<br>
probably be referred to using <code>&#64;{$python/<guide-name>}</code> to<br>
avoid ambiguity.</p>
</li>
</ul>
</li>
<li><p><code>&#64;{$doc_page#anchor-tag$link-text}</code> to link to an anchor in<br>
  that doc and use different link text (by default, the link text is the title<br>
  of the target page).</p>
<p>To override the link text only, omit  the <code>#anchor-tag</code>.</p>
</li>
</ul>
<p>To link to source code, use a link starting with:<br>
<code>https://www.tensorflow.org/code/</code>, followed by<br>
the file name starting at the github root. For instance, a link to the file you<br>
are currently reading should be written as<br>
<code>https://www.tensorflow.org/code/tensorflow/docs_src/community/documentation.md</code>.</p>
<p>This URL naming scheme ensures<br>
that <a href="https://www.tensorflow.org/">tensorflow.org</a> can forward the link to the<br>
branch of the code corresponding to the version of the documentation you're<br>
viewing. Do not include url parameters in the source code URL.</p>
<h2>Generating docs and previewing links</h2>
<p>Before building the documentation, you must first set up your environment by<br>
doing the following:</p>
<ol>
<li><p>If pip isn't installed on your machine, install it now by issuing the<br>
following command:</p>
<pre><code> $ sudo easy_install pip
</code></pre>
</li>
<li><p>Use pip to install codegen, mock, and pandas by issuing the following<br>
command (Note: If you are using<br>
a <a href="https://virtualenv.pypa.io/en/stable/">virtualenv</a> to manage your<br>
dependencies, you may not want to use sudo for these installations):</p>
<pre><code> $ sudo pip install codegen mock pandas
</code></pre>
</li>
<li><p>If bazel is not installed on your machine, install it now. If you are on<br>
Linux, install bazel by issuing the following command:</p>
<pre><code> $ sudo apt-get install bazel  # Linux
</code></pre>
<p>If you are on Mac OS, find bazel installation instructions on<br>
 <a href="https://bazel.build/versions/master/docs/install.html#mac-os-x">this page</a>.</p>
</li>
<li><p>Change directory to the top-level <code>tensorflow</code> directory of the TensorFlow<br>
source code.</p>
</li>
<li><p>Run the <code>configure</code> script and answer its prompts appropriately for your<br>
system.</p>
<pre><code> $ ./configure
</code></pre>
</li>
</ol>
<p>Then, change to the <code>tensorflow</code> directory which contains <code>docs_src</code> (<code>cd
tensorflow</code>).  Run the following command to compile TensorFlow and generate the<br>
documentation in the <code>/tmp/tfdocs</code> dir:</p>
<pre><code>bazel run tools/docs:generate -- \
          --src_dir="$(pwd)/docs_src/" \
          --output_dir=/tmp/tfdocs/
</code></pre>
<p>Note: You must set <code>src_dir</code> and <code>output_dir</code> to absolute file paths.</p>
<h2>Generating Python API documentation</h2>
<p>Ops, classes, and utility functions are defined in Python modules, such as<br>
<code>image_ops.py</code>. Python modules contain a module docstring. For example:</p>
<pre><code class="lang-python">&quot;&quot;&quot;Image processing and decoding ops.&quot;&quot;&quot;
</code></pre>
<p>The documentation generator places this module docstring at the beginning of the<br>
Markdown file generated for the module, in this<br>
case, <a href="https://www.tensorflow.org/api_docs/python/tf/image">tf.image</a>.</p>
<p>It used to be a requirement to list every member of a module inside the module<br>
file at the beginning, putting a <code>@@</code> before each member. The <code>@@member_name</code><br>
syntax is deprecated and no longer generates any docs. But depending on how a<br>
module is <a href="#sealing_modules">sealed</a> it may still be necessary to mark the<br>
elements of the module’s contents as public. The called-out op, function, or<br>
class does not have to be defined in the same file. The next few sections of<br>
this document discuss sealing and how to add elements to the public<br>
documentation.</p>
<p>The new documentation system automatically documents public symbols, except for<br>
the following:</p>
<ul>
<li>Private symbols whose names start with an underscore.</li>
<li>Symbols originally defined in <code>object</code> or protobuf’s <code>Message</code>.</li>
<li>Some class members, such as <code>__base__</code>, <code>__class__</code>, which are dynamically<br>
created but generally have no useful documentation.</li>
</ul>
<p>Only top level modules (currently just <code>tf</code> and <code>tfdbg</code>) need to be manually<br>
added to the generate script.</p>
<h3>Sealing modules</h3>
<p>Because the doc generator walks all visible symbols, and descends into anything<br>
it finds, it will document any accidentally exposed symbols. If a module only<br>
exposes symbols that are meant to be part of the public API, we call it<br>
<strong>sealed</strong>. Because of Python’s loose import and visibility conventions, naively<br>
written Python code will inadvertently expose a lot of modules which are<br>
implementation details. Improperly sealed modules may expose other unsealed<br>
modules, which will typically lead the doc generator to fail. <strong>This failure is<br>
the intended behavior.</strong> It ensures that our API is well defined, and allows us<br>
to change implementation details (including which modules are imported where)<br>
without fear of accidentally breaking users.</p>
<p>If a module is accidentally imported, it typically breaks the doc generator<br>
(<code>generate_test</code>). This is a clear sign you need to seal your modules. However,<br>
even if the doc generator succeeds, unwanted symbols may show up in the<br>
docs. Check the generated docs to make sure that all symbols that are documented<br>
are expected. If there are symbols that shouldn’t be there, you have the<br>
following options for dealing with them:</p>
<ul>
<li>Private symbols and imports</li>
<li>The <code>remove_undocumented</code> filter</li>
<li>A traversal blacklist.</li>
</ul>
<p>We'll discuss these options in detail below.</p>
<h4>Private symbols and imports</h4>
<p>The easiest way to conform to the API sealing expectations is to make non-public<br>
symbols private (by prepending an underscore _). The doc generator respects<br>
private symbols. This also applies to modules. If the only problem is that there<br>
is a small number of imported modules that show up in the docs (or break the<br>
generator), you can simply rename them on import, e.g.: <code>import sys as _sys</code>.</p>
<p>Because Python considers all files to be modules, this applies to files as<br>
well. If you have a directory containing the following two files/modules:</p>
<pre><code>module/__init__.py
module/private_impl.py
</code></pre>
<p>Then, after <code>module</code> is imported, it will be possible to access<br>
<code>module.private_impl</code>. Renaming <code>private_impl.py</code> to <code>_private_impl.py</code> solves<br>
the problem. If renaming modules is awkward, read on.</p>
<h4>Use the <code>remove_undocumented</code> filter</h4>
<p>Another way to seal a module is to split your implementation from the API. To do<br>
so, consider using <code>remove_undocumented</code>, which takes a list of allowed symbols,<br>
and deletes everything else from the module. For example, the following snippet<br>
demonstrates how to put <code>remove_undocumented</code> in the <code>__init__.py</code> file for a<br>
module:</p>
<p><strong>init</strong>.py:</p>
<h1>Use * imports only if <strong>all</strong> defined in some_file</h1>
<pre><code>from tensorflow.some_module.some_file import *

# Otherwise import symbols directly
from tensorflow.some_module.some_other_file import some_symbol

from tensorflow.python.util.all_util import remove_undocumented

_allowed_symbols = [‘some_symbol’, ‘some_other_symbol’]

remove_undocumented(__name__, allowed_exception_list=_allowed_symbols)
</code></pre>
<p>The <code>@@member_name</code> syntax is deprecated, but it still exists in some places in<br>
the documentation as an indicator to <code>remove_undocumented</code> that those symbols<br>
are public. All <code>@@</code>s will eventually be removed. If you see them, however,<br>
please do not randomly delete them as they are still in use by some of our<br>
systems.</p>
<h4>Traversal blacklist</h4>
<p>If all else fails, you may add entries to the traversal blacklist in<br>
<code>generate_lib.py.</code> <strong>Almost all entries in this list are an abuse of its<br>
purpose; avoid adding to it if you can!</strong></p>
<p>The traversal blacklist maps qualified module names (without the leading <code>tf.</code>)<br>
to local names that are not to be descended into. For instance, the following<br>
entry will exclude <code>some_module</code> from traversal.</p>
<pre><code>{ ...
  ‘contrib.my_module’: [‘some_module’]
  ...
}
</code></pre>
<p>That means that the doc generator will show that <code>some_module</code> exists, but it<br>
will not enumerate its content.</p>
<p>This blacklist was originally intended to make sure that system modules (mock,<br>
flags, ...) included for platform abstraction can be documented without<br>
documenting their interior. Its use beyond this purpose is a shortcut that may<br>
be acceptable for contrib, but not for core tensorflow.</p>
<h2>Op documentation style guide</h2>
<p>Long, descriptive module-level documentation for modules should go in the API<br>
Guides in <code>docs_src/api_guides/python</code>.</p>
<p>For classes and ops, ideally, you should provide the following information, in<br>
order of presentation:</p>
<ul>
<li>A short sentence that describes what the op does.</li>
<li>A short description of what happens when you pass arguments to the op.</li>
<li>An example showing how the op works (pseudocode is best).</li>
<li>Requirements, caveats, important notes (if there are any).</li>
<li>Descriptions of inputs, outputs, and Attrs or other parameters of the op<br>
constructor.</li>
</ul>
<p>Each of these is described in more<br>
detail <a href="#description-of-the-docstring-sections">below</a>.</p>
<p>Write your text in Markdown format. A basic syntax reference<br>
is <a href="https://daringfireball.net/projects/markdown/">here</a>. You are allowed to<br>
use <a href="https://www.mathjax.org">MathJax</a> notation for equations (see above for<br>
restrictions).</p>
<h3>Writing about code</h3>
<p>Put backticks around these things when they're used in text:</p>
<ul>
<li>Argument names (for example, <code>input</code>, <code>x</code>, <code>tensor</code>)</li>
<li>Returned tensor names (for example, <code>output</code>, <code>idx</code>, <code>out</code>)</li>
<li>Data types (for example, <code>int32</code>, <code>float</code>, <code>uint8</code>)</li>
<li>Other op names referenced in text (for example, <code>list_diff()</code>, <code>shuffle()</code>)</li>
<li>Class names (for example, <code>Tensor</code> when you actually mean a <code>Tensor</code> object;<br>
don't capitalize or use backticks if you're just explaining what an op does to<br>
a tensor, or a graph, or an operation in general)</li>
<li>File names (for example, <code>image_ops.py</code>, or<br>
<code>/path-to-your-data/xml/example-name</code>)</li>
<li>Math expressions or conditions (for example, <code>-1-input.dims() &lt;= dim &lt;=
input.dims()</code>)</li>
</ul>
<p>Put three backticks around sample code and pseudocode examples. And use <code>==&gt;</code><br>
instead of a single equal sign when you want to show what an op returns. For<br>
example:</p>
<pre><code>    # 'input' is a tensor of shape [2, 3, 5]
    (tf.expand_dims(input, 0)) ==&gt; [1, 2, 3, 5]
</code></pre>
<p>If you're providing a Python code sample, add the python style label to ensure<br>
proper syntax highlighting:</p>
<pre><code class="lang-python">    # some Python code
</code></pre>
<p>Two notes about backticks for code samples in Markdown:</p>
<ol>
<li>You can use backticks for pretty printing languages other than Python, if<br>
necessary. A full list of languages is available<br>
<a href="https://github.com/google/code-prettify#how-do-i-specify-the-language-of-my-code">here</a>.</li>
<li>Markdown also allows you to indent four spaces to specify a code sample.<br>
However, do NOT indent four spaces and use backticks simultaneously. Use one<br>
or the other.</li>
</ol>
<h3>Tensor dimensions</h3>
<p>When you're talking about a tensor in general, don't capitalize the word tensor.<br>
When you're talking about the specific object that's provided to an op as an<br>
argument or returned by an op, then you should capitalize the word Tensor and<br>
add backticks around it because you're talking about a <code>Tensor</code> object.</p>
<p>Don't use the word <code>Tensors</code> to describe multiple Tensor objects unless you<br>
really are talking about a <code>Tensors</code> object. Better to say "a list of <code>Tensor</code><br>
objects."</p>
<p>Use the term "dimension" to refer to the size of a tensor. If you need to be<br>
specific about the size, use these conventions:</p>
<ul>
<li>Refer to a scalar as a "0-D tensor"</li>
<li>Refer to a vector as a "1-D tensor"</li>
<li>Refer to a matrix as a "2-D tensor"</li>
<li>Refer to tensors with 3 or more dimensions as 3-D tensors or n-D tensors. Use<br>
the word "rank" only if it makes sense, but try to use "dimension" instead.<br>
Never use the word "order" to describe the size of a tensor.</li>
</ul>
<p>Use the word "shape" to detail the dimensions of a tensor, and show the shape in<br>
square brackets with backticks. For example:</p>
<pre><code>If `input` is a 3-D tensor with shape `[3, 4, 3]`, this operation
returns a 3-D tensor with shape `[6, 8, 6]`.
</code></pre>
<h3>Ops defined in C++</h3>
<p>All Ops defined in C++ (and accessible from other languages) must be documented<br>
with a <code>REGISTER_OP</code> declaration. The docstring in the C++ file is processed to<br>
automatically add some information for the input types, output types, and Attr<br>
types and default values.</p>
<p>For example:</p>
<pre><code class="lang-c++">    REGISTER_OP(&quot;PngDecode&quot;)
      .Input(&quot;contents: string&quot;)
      .Attr(&quot;channels: int = 0&quot;)
      .Output(&quot;image: uint8&quot;)
      .Doc(R&quot;doc(
    Decodes the contents of a PNG file into a uint8 tensor.

    contents: PNG file contents.
    channels: Number of color channels, or 0 to autodetect based on the input.
      Must be 0 for autodetect, 1 for grayscale, 3 for RGB, or 4 for RGBA.
      If the input has a different number of channels, it will be transformed
      accordingly.
    image:= A 3-D uint8 tensor of shape `[height, width, channels]`.
      If `channels` is 0, the last dimension is determined
      from the png contents.
    )doc&quot;);
</code></pre>
<p>Results in this piece of Markdown:</p>
<h3>tf.image.png_decode(contents, channels=None, name=None) {#png_decode}</h3>
<pre><code>Decodes the contents of a PNG file into a uint8 tensor.

#### Args:

*  &lt;b&gt;contents&lt;/b&gt;: A string Tensor. PNG file contents.
*  &lt;b&gt;channels&lt;/b&gt;: An optional int. Defaults to 0.
   Number of color channels, or 0 to autodetect based on the input.
   Must be 0 for autodetect, 1 for grayscale, 3 for RGB, or 4 for RGBA.  If the
   input has a different number of channels, it will be transformed accordingly.
*  &lt;b&gt;name&lt;/b&gt;: A name for the operation (optional).

#### Returns:
A 3-D uint8 tensor of shape `[height, width, channels]`.  If `channels` is
0, the last dimension is determined from the png contents.
</code></pre>
<p>Much of the argument description is added automatically. In particular, the doc<br>
generator automatically adds the name and type of all inputs, attrs, and<br>
outputs. In the above example, <code>&lt;b&gt;contents&lt;/b&gt;: A string Tensor.</code> was added<br>
automatically. You should write your additional text to flow naturally after<br>
that description.</p>
<p>For inputs and output, you can prefix your additional text with an equal sign to<br>
prevent the automatically added name and type. In the above example, the<br>
description for the output named <code>image</code> starts with <code>=</code> to prevent the addition<br>
of <code>A uint8 Tensor.</code> before our text <code>A 3-D uint8 Tensor...</code>. You cannot prevent<br>
the addition of the name, type, and default value of attrs this way, so write<br>
your text carefully.</p>
<h3>Ops defined in Python</h3>
<p>If your op is defined in a <code>python/ops/*.py</code> file, then you need to provide text<br>
for all of the arguments and output (returned) tensors. The doc generator does<br>
not auto-generate any text for ops that are defined in Python, so what you write<br>
is what you get.</p>
<p>You should conform to the usual Python docstring conventions, except that you<br>
should use Markdown in the docstring.</p>
<p>Here's a simple example:</p>
<pre><code class="lang-python">def foo(x, y, name=&quot;bar&quot;):
  &quot;&quot;&quot;Computes foo.

  Given two 1-D tensors `x` and `y`, this operation computes the foo.

  Example:
</code></pre>
<h1>x is [1, 1]</h1>
<h1>y is [2, 2]</h1>
<p>tf.foo(x, y) ==&gt; [3, 3]</p>
<pre><code>  Args:
    x: A `Tensor` of type `int32`.
    y: A `Tensor` of type `int32`.
    name: A name for the operation (optional).

  Returns:
    A `Tensor` of type `int32` that is the foo of `x` and `y`.

  Raises:
    ValueError: If `x` or `y` are not of type `int32`.
  """
</code></pre>
<h2>Description of the docstring sections</h2>
<p>This section details each of the elements in docstrings.</p>
<h3>Short sentence describing what the op does</h3>
<p>Examples:</p>
<pre><code>Concatenates tensors.
</code></pre>
<pre><code>Flips an image horizontally from left to right.
</code></pre>
<pre><code>Computes the Levenshtein distance between two sequences.
</code></pre>
<pre><code>Saves a list of tensors to a file.
</code></pre>
<pre><code>Extracts a slice from a tensor.
</code></pre>
<h3>Short description of what happens when you pass arguments to the op</h3>
<p>Examples:</p>
<pre><code>Given a tensor input of numerical type, this operation returns a tensor of
the same type and size with values reversed along dimension `seq_dim`. A
vector `seq_lengths` determines which elements are reversed for each index
within dimension 0 (usually the batch dimension).


This operation returns a tensor of type `dtype` and dimensions `shape`, with
all elements set to zero.
</code></pre>
<h3>Example demonstrating the op</h3>
<p>Good code samples are short and easy to understand, typically containing a brief<br>
snippet of code to clarify what the example is demonstrating. When an op<br>
manipulates the shape of a Tensor it is often useful to include an example of<br>
the before and after, as well.</p>
<p>The <code>squeeze()</code> op has a nice pseudocode example:</p>
<h1>'t' is a tensor of shape [1, 2, 1, 3, 1, 1]</h1>
<pre><code>shape(squeeze(t)) ==&gt; [2, 3]
</code></pre>
<p>The <code>tile()</code> op provides a good example in descriptive text:</p>
<pre><code>For example, tiling `[a, b, c, d]` by `[2]` produces `[a b c d a b c d]`.
</code></pre>
<p>It is often helpful to show code samples in Python. Never put them in the C++<br>
Ops file, and avoid putting them in the Python Ops doc. We recommend, if<br>
possible, putting code samples in the<br>
<a href="https://github.com/tensorflow/tensorflow/tree/master/tensorflow/docs_src/api_guides">API guides</a>.<br>
Otherwise, add them to the module or class docstring where the Ops constructors<br>
are called out.</p>
<p>Here's an example from the module docstring in <code>api_guides/python/math_ops.md</code>:</p>
<h2>Segmentation</h2>
<pre><code>TensorFlow provides several operations that you can use to perform common
math computations on tensor segments.
...
In particular, a segmentation of a matrix tensor is a mapping of rows to
segments.

For example:

```python
c = tf.constant([[1,2,3,4], [-1,-2,-3,-4], [5,6,7,8]])
tf.segment_sum(c, tf.constant([0, 0, 1]))
  ==&gt;  [[0 0 0 0]
        [5 6 7 8]]
```
</code></pre>
<h3>Requirements, caveats, important notes</h3>
<p>Examples:</p>
<pre><code>This operation requires that: `-1-input.dims() &lt;= dim &lt;= input.dims()`
</code></pre>
<pre><code>Note: This tensor will produce an error if evaluated. Its value must
be fed using the `feed_dict` optional argument to `Session.run()`,
`Tensor.eval()`, or `Operation.run()`.
</code></pre>
<h3>Descriptions of arguments and output (returned) tensors.</h3>
<p>Keep the descriptions brief and to the point. You should not have to explain how<br>
the operation works in the argument sections.</p>
<p>Mention if the Op has strong constraints on the dimensions of the input or<br>
output tensors. Remember that for C++ Ops, the type of the tensor is<br>
automatically added as either as "A ..type.. Tensor" or "A Tensor with type in<br>
{...list of types...}". In such cases, if the Op has a constraint on the<br>
dimensions either add text such as "Must be 4-D" or start the description with<br>
<code>=</code> (to prevent the tensor type to be added) and write something like "A 4-D<br>
float tensor".</p>
<p>For example, here are two ways to document an image argument of a C++ op (note<br>
the "=" sign):</p>
<pre><code>image: Must be 4-D. The image to resize.
</code></pre>
<pre><code>image:= A 4-D `float` tensor. The image to resize.
</code></pre>
<p>In the documentation, these will be rendered to markdown as</p>
<pre><code>image: A `float` Tensor. Must be 4-D. The image to resize.
</code></pre>
<pre><code>image: A 4-D `float` Tensor. The image to resize.
</code></pre>
<h3>Optional arguments descriptions ("attrs")</h3>
<p>The doc generator always describes the type for each attr and their default<br>
value, if any. You cannot override that with an equal sign because the<br>
description is very different in the C++ and Python generated docs.</p>
<p>Phrase any additional attr description so that it flows well after the type<br>
and default value. The type and defaults are displayed first, and additional<br>
descriptions follow afterwards. Therefore, complete sentences are best.</p>
<p>Here's an example from <code>image_ops.cc</code>:</p>
<pre><code>REGISTER_OP("DecodePng")
    .Input("contents: string")
    .Attr("channels: int = 0")
    .Attr("dtype: {uint8, uint16} = DT_UINT8")
    .Output("image: dtype")
    .SetShapeFn(DecodeImageShapeFn)
    .Doc(R"doc(
Decode a PNG-encoded image to a uint8 or uint16 tensor.

The attr `channels` indicates the desired number of color channels for the
decoded image.

Accepted values are:

*   0: Use the number of channels in the PNG-encoded image.
*   1: output a grayscale image.
*   3: output an RGB image.
*   4: output an RGBA image.

If needed, the PNG-encoded image is transformed to match the requested
number of color channels.

contents: 0-D.  The PNG-encoded image.
channels: Number of color channels for the decoded image.
image: 3-D with shape `[height, width, channels]`.
)doc");
</code></pre>
<p>This generates the following Args section in<br>
<code>api_docs/python/tf/image/decode_png.md</code>:</p>
<h4>Args:</h4>
<ul>
<li><b>`contents`</b>: A <code>Tensor</code> of type <code>string</code>. 0-D.  The PNG-encoded<br>
image.</li>
<li><b>`channels`</b>: An optional <code>int</code>. Defaults to <code>0</code>. Number of color<br>
channels for the decoded image.</li>
<li><b>`dtype`</b>: An optional <code>tf.DType</code> from: <code>tf.uint8,
tf.uint16</code>. Defaults to <code>tf.uint 8</code>.</li>
<li><b>`name`</b>: A name for the operation (optional).</li>
</ul>

        </main>
    </div>
</div>
<!-- Content end-->
</body>
<script src="//cdn.bootcss.com/jquery/3.3.1/jquery.slim.min.js" type="text/javascript"></script>
<script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js" type="text/javascript"></script>
<script src="//xitu.github.io/tensorflow-docs-web/assets/js/main.js" type="text/javascript"></script>
</html>